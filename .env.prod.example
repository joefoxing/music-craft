# ─────────────────────────────────────────────────────────────────────────────
# PRODUCTION ENVIRONMENT TEMPLATE
# 
# Copy this file to .env.prod on your production server and fill in real values.
# NEVER commit .env.prod to git.
#
# Required: Variables marked with [REQUIRED] must be set for the app to start
# Optional: Variables have sensible defaults or can be left empty
# ─────────────────────────────────────────────────────────────────────────────

# ─────────────────────────────────────────────────────────────────────────────
# DEPLOYMENT CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────

# Git SHA tag for immutable deploys [REQUIRED for deploy script]
# Example: sha-1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t
IMAGE_TAG=

# Container registry configuration
REGISTRY=ghcr.io                    # GitHub Container Registry (default)
REPO_OWNER=your-github-username     # GitHub username or org [REQUIRED]
REPO_NAME=your-repo-name            # Repository name [REQUIRED]

# ─────────────────────────────────────────────────────────────────────────────
# APPLICATION SETTINGS
# ─────────────────────────────────────────────────────────────────────────────

# Domain name (used by Caddy for TLS) [REQUIRED]
DOMAIN=yourdomain.com

# Application environment
APP_ENV=production
LOG_LEVEL=INFO                      # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json                     # json or plain

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE [REQUIRED]
# Managed Postgres (Neon, AWS RDS, etc.)
# Format: postgresql://user:password@host:port/database?sslmode=require
# ─────────────────────────────────────────────────────────────────────────────
DATABASE_URL=

# ─────────────────────────────────────────────────────────────────────────────
# SECURITY [REQUIRED]
# Generate with: openssl rand -hex 32
# ─────────────────────────────────────────────────────────────────────────────
SECRET_KEY=

# CORS Configuration [REQUIRED]
# Comma-separated list of allowed origins for CORS
# Example: https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOWED_ORIGINS=https://yourdomain.com

# JWT configuration (if using)
JWT_SECRET=
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ─────────────────────────────────────────────────────────────────────────────
# REDIS / CACHE / MESSAGE QUEUE (optional)
# Required if using background workers (Celery/RQ)
# ─────────────────────────────────────────────────────────────────────────────
REDIS_URL=                          # redis://localhost:6379/0

# ─────────────────────────────────────────────────────────────────────────────
# OBJECT STORAGE (S3/R2/GCS) for file uploads
# Skip if storing uploads on local disk (not recommended for production)
# ─────────────────────────────────────────────────────────────────────────────
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_ENDPOINT=                        # e.g., https://s3.us-east-1.amazonaws.com
S3_REGION=                          # e.g., us-east-1

# ─────────────────────────────────────────────────────────────────────────────
# EMAIL (optional)
# ─────────────────────────────────────────────────────────────────────────────
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourdomain.com

# ─────────────────────────────────────────────────────────────────────────────
# EXTERNAL SERVICES (optional)
# ─────────────────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

SENTRY_DSN=                         # Error tracking

# ─────────────────────────────────────────────────────────────────────────────
# FRONTEND-SPECIFIC (build-time vars for Next.js)
# These are baked into the image at build time, not runtime
# ─────────────────────────────────────────────────────────────────────────────
NEXT_PUBLIC_API_URL=/api            # Relative path (proxied by Caddy)
NEXT_PUBLIC_APP_NAME=YourApp
