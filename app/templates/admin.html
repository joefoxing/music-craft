{% extends "base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="flex h-screen overflow-hidden bg-slate-50 dark:bg-slate-900">
    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col min-w-0 overflow-hidden">
        
        <!-- Header / Toolbar -->
        <header class="flex items-center justify-between px-6 py-4 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800">
            <h1 class="text-xl font-bold text-slate-900 dark:text-white">Admin Dashboard</h1>
            
            <!-- ACTION AREA: The JS will inject the menu here -->
            <div id="admin-toolbar" class="flex items-center gap-2">
                <!-- Legacy buttons (will be auto-hidden by admin.js) -->
                <!-- These are preserved so existing form handlers continue to work -->
                <button id="btn-save" type="submit" form="admin-form" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors">
                    Save Changes
                </button>
                <button id="btn-delete" type="button" class="px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors">
                    Delete User
                </button>
            </div>
        </header>

        <!-- Scrollable Content -->
        <main class="flex-1 overflow-y-auto p-6">
            <div class="max-w-3xl mx-auto">
                <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6">
                    <h2 class="text-lg font-semibold mb-6 text-slate-900 dark:text-white">User Details</h2>
                    
                    <form id="admin-form" method="POST" action="/admin/save">
                        <!-- Hidden ID for Password Reset functionality -->
                        <input type="hidden" id="user-id" name="user_id" value="{{ user.id if user else '' }}">
                        
                        <!-- Your existing form fields would go here -->
                    </form>
                </div>
            </div>
        </main>
    </div>
</div>

<!-- Required Scripts -->
<script src="{{ url_for('static', filename='js/components/adminActions.js') }}"></script>
<script src="{{ url_for('static', filename='js/pages/admin.js') }}"></script>
{% endblock %}